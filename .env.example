# ==============================================
# AI 銷售賦能平台 - 環境變數配置範例
# ==============================================
# 複製此文件為 .env.local 並填入實際值

# ==============================================
# 應用程式基礎配置
# ==============================================
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME="AI Sales Enablement Platform"

# ==============================================
# 資料庫配置 (PostgreSQL + pgvector)
# ==============================================
# 本地開發環境
DATABASE_URL="postgresql://username:password@localhost:5432/ai_sales_db?schema=public"

# Docker 環境 (如果使用 docker-compose)
# DATABASE_URL="postgresql://postgres:yourpassword@postgres:5432/ai_sales_db?schema=public"

# 生產環境 (Azure Database for PostgreSQL)
# DATABASE_URL="postgresql://username:password@your-server.postgres.database.azure.com:5432/ai_sales_db?sslmode=require"

# ==============================================
# JWT 認證配置
# ==============================================
JWT_SECRET=your-super-secret-jwt-key-min-32-characters-long
JWT_EXPIRES_IN=7d

# ==============================================
# Azure OpenAI 配置 (必需)
# ==============================================
AZURE_OPENAI_API_KEY=your-azure-openai-api-key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_VERSION=2024-02-01

# GPT-4 模型配置
AZURE_OPENAI_DEPLOYMENT_ID_GPT4=gpt-4
AZURE_OPENAI_DEPLOYMENT_ID_EMBEDDINGS=text-embedding-ada-002

# ==============================================
# Dynamics 365 CRM 整合 (必需)
# ==============================================
DYNAMICS_365_TENANT_ID=your-azure-tenant-id
DYNAMICS_365_CLIENT_ID=your-app-client-id
DYNAMICS_365_CLIENT_SECRET=your-app-client-secret
DYNAMICS_365_RESOURCE=https://your-org.crm5.dynamics.com/

# ==============================================
# Azure AD 單一登入 (可選，MVP 階段)
# ==============================================
AZURE_AD_CLIENT_ID=your-azure-ad-client-id
AZURE_AD_CLIENT_SECRET=your-azure-ad-client-secret
AZURE_AD_TENANT_ID=your-azure-ad-tenant-id

# ==============================================
# 文件儲存配置
# ==============================================
# 本地儲存路徑
UPLOAD_DIR=./uploads

# Azure Blob Storage (生產環境推薦)
AZURE_STORAGE_ACCOUNT_NAME=your-storage-account
AZURE_STORAGE_ACCOUNT_KEY=your-storage-key
AZURE_STORAGE_CONTAINER_NAME=documents

# ==============================================
# 向量搜索配置
# ==============================================
# 向量維度 (Azure OpenAI text-embedding-ada-002 = 1536)
VECTOR_DIMENSION=1536
# 搜索結果數量上限
MAX_SEARCH_RESULTS=50

# ==============================================
# 速率限制和效能配置
# ==============================================
# OpenAI API 速率限制 (每分鐘請求數)
OPENAI_RATE_LIMIT_RPM=60
# 資料庫連線池大小
DATABASE_CONNECTION_POOL_SIZE=10
# 快取 TTL (秒)
CACHE_TTL=3600

# ==============================================
# 開發和測試環境配置
# ==============================================
# 測試資料庫
TEST_DATABASE_URL="postgresql://username:password@localhost:5432/ai_sales_test_db"

# 日誌等級
LOG_LEVEL=info

# 開發模式設定
DEBUG_MODE=true
ENABLE_QUERY_LOGGING=false

# ==============================================
# 安全性配置
# ==============================================
# CORS 允許的來源
NEXT_PUBLIC_ALLOWED_ORIGINS=http://localhost:3000,https://your-domain.com

# 會話配置
SESSION_TIMEOUT=3600
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=900

# ==============================================
# 監控和分析 (可選)
# ==============================================
# Google Analytics (如果需要)
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# Sentry 錯誤追蹤 (生產環境推薦)
SENTRY_DSN=your-sentry-dsn
SENTRY_ORG=your-org
SENTRY_PROJECT=your-project

# ==============================================
# 電子郵件服務 (通知功能)
# ==============================================
# SendGrid 或其他 SMTP 服務
EMAIL_SERVICE_API_KEY=your-email-service-key
EMAIL_FROM_ADDRESS=noreply@your-domain.com
EMAIL_FROM_NAME="AI Sales Platform"

# ==============================================
# 功能開關 (Feature Flags)
# ==============================================
# 啟用功能開關 (0=關閉, 1=開啟)
FEATURE_FLAG_AI_PROPOSALS=1
FEATURE_FLAG_CRM_SYNC=1
FEATURE_FLAG_ADVANCED_SEARCH=1
FEATURE_FLAG_ANALYTICS=0

# ==============================================
# 部署相關配置
# ==============================================
# Vercel 部署
VERCEL_URL=your-app-name.vercel.app

# Azure App Service 部署
AZURE_APP_SERVICE_NAME=your-app-service
AZURE_RESOURCE_GROUP=your-resource-group

# ==============================================
# 備註和說明
# ==============================================
# 1. 所有以 NEXT_PUBLIC_ 開頭的變數會暴露到瀏覽器端
# 2. 生產環境請使用強密碼和安全的金鑰
# 3. 定期輪換 API 金鑰和密碼
# 4. 使用 Azure Key Vault 或類似服務管理敏感資訊
# 5. 詳細配置說明請參考 docs/deployment-guide.md