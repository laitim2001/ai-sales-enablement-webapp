# AI éŠ·å”®è³¦èƒ½å¹³å°

> **æ™ºèƒ½éŠ·å”®åŠ©æ‰‹ï¼Œæå‡åœ˜éšŠæˆäº¤ç‡**
> é¢å‘é¦¬ä¾†è¥¿äº/æ–°åŠ å¡å¸‚å ´çš„ AI é©…å‹•éŠ·å”®è³¦èƒ½è§£æ±ºæ–¹æ¡ˆ

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Next.js](https://img.shields.io/badge/Next.js-14-black)
![TypeScript](https://img.shields.io/badge/TypeScript-5.5-blue)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-blue)

## ğŸ¤– AI åŠ©æ‰‹å°ˆç”¨å°èˆª

> **ğŸ“‹ AI åŠ©æ‰‹è«‹å…ˆé–±è®€**:
> - **å¿«é€ŸæŒ‡å—**: [AI-ASSISTANT-GUIDE.md](AI-ASSISTANT-GUIDE.md) - 30ç§’äº†è§£é …ç›®
> - **å®Œæ•´ç´¢å¼•**: [PROJECT-INDEX.md](PROJECT-INDEX.md) - è©³ç´°æ–‡ä»¶å°èˆªç³»çµ±
> - **ä¸Šä¸‹æ–‡æª”**: [.ai-context](.ai-context) - å¿«é€Ÿä¸Šä¸‹æ–‡è¼‰å…¥

## ğŸ¯ é …ç›®æ¦‚è¿°

AI éŠ·å”®è³¦èƒ½å¹³å°æ˜¯ä¸€å€‹å…¨æ£§ Web æ‡‰ç”¨ç¨‹å¼ï¼Œçµåˆäº†äººå·¥æ™ºèƒ½ã€çŸ¥è­˜ç®¡ç†å’Œ CRM æ•´åˆï¼Œå¹«åŠ©éŠ·å”®åœ˜éšŠï¼š

- ğŸ” **æ™ºèƒ½çŸ¥è­˜æœç´¢** - AI é©…å‹•çš„æ–‡æª”æœç´¢å’Œæ¨è–¦
- ğŸ¤– **AI ææ¡ˆç”Ÿæˆ** - å€‹äººåŒ–ææ¡ˆå…§å®¹è‡ªå‹•ç”Ÿæˆ
- ğŸ”— **CRM æ·±åº¦æ•´åˆ** - Dynamics 365 ç„¡ç¸«æ•¸æ“šåŒæ­¥
- ğŸ“Š **çµ±ä¸€éŠ·å”®å„€è¡¨æ¿** - å…¨æ–¹ä½éŠ·å”®æ•¸æ“šè¦–åœ–

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### æ ¸å¿ƒæŠ€è¡“æ£§
- **å‰ç«¯**: Next.js 14 (App Router) + TypeScript + Tailwind CSS
- **å¾Œç«¯**: Next.js Server Actions + tRPC + Prisma ORM
- **è³‡æ–™åº«**: PostgreSQL 16 + pgvector (å‘é‡æœç´¢)
- **AI æœå‹™**: Azure OpenAI (GPT-4 + Embeddings)
- **æ•´åˆ**: Dynamics 365 API + OAuth 2.0
- **éƒ¨ç½²**: Vercel / Azure App Service

### ç³»çµ±æ¶æ§‹åœ–
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Next.js 14    â”‚    â”‚  PostgreSQL +   â”‚    â”‚  Azure OpenAI   â”‚
â”‚   (Frontend +    â”‚â—„â”€â”€â–ºâ”‚    pgvector     â”‚    â”‚    Service      â”‚
â”‚    Backend)      â”‚    â”‚   (Database)    â”‚    â”‚ (AI/Embeddings) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚                        â”‚
         â–¼                        â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Dynamics 365  â”‚    â”‚     Prisma      â”‚    â”‚     tRPC        â”‚
â”‚   (CRM æ•´åˆ)     â”‚    â”‚    (ORM)        â”‚    â”‚  (API Layer)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

> **ğŸ¤– è‡ªå‹•åŒ–ç’°å¢ƒè¨­ç½® (æ¨è–¦æ–°é–‹ç™¼è€…)**: 
> å¦‚æœé€™æ˜¯æ‚¨ç¬¬ä¸€æ¬¡è¨­ç½®æ­¤é …ç›®ï¼Œè«‹è·³è½‰åˆ° [è‡ªå‹•åŒ–è¨­ç½®](#-è‡ªå‹•åŒ–ç’°å¢ƒè¨­ç½®) éƒ¨åˆ†ç²å¾—æ›´ç°¡å–®çš„é«”é©—ã€‚

### å‰ç½®è¦æ±‚
- Node.js 18.0+
- npm 8.0+
- Docker & Docker Compose (æ¨è–¦)
- PostgreSQL 16+ (æˆ–ä½¿ç”¨ Docker)

### 1. å…‹éš†é …ç›®
```bash
git clone https://github.com/yourusername/ai-sales-enablement-webapp.git
cd ai-sales-enablement-webapp
```

### 2. å®‰è£ä¾è³´
```bash
npm install
```

### 3. ç’°å¢ƒé…ç½®
```bash
# è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
cp .env.example .env.local

# ç·¨è¼¯ .env.local ä¸¦å¡«å…¥å¯¦éš›é…ç½®å€¼
# ç‰¹åˆ¥æ³¨æ„ï¼šAzure OpenAI å’Œ Dynamics 365 çš„é…ç½®
```

### 4. å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ

#### é¸é … A: ä½¿ç”¨ Docker (æ¨è–¦)
```bash
# å•Ÿå‹•æ‰€æœ‰æœå‹™ (PostgreSQL + Redis + App)
npm run docker:dev

# æœå‹™å°‡åœ¨ä»¥ä¸‹ç«¯å£å•Ÿå‹•ï¼š
# - æ‡‰ç”¨ç¨‹å¼: http://localhost:3000
# - PostgreSQL: localhost:5432
# - Redis: localhost:6379
# - pgAdmin: http://localhost:8080
```

#### é¸é … B: æœ¬åœ°é–‹ç™¼
```bash
# ç¢ºä¿ PostgreSQL å’Œ Redis æ­£åœ¨é‹è¡Œ
# ç”Ÿæˆ Prisma client
npm run db:generate

# åŸ·è¡Œè³‡æ–™åº«é·ç§»
npm run db:migrate

# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run dev
```

### 5. é©—è­‰å®‰è£
è¨ªå• http://localhost:3000 ç¢ºèªæ‡‰ç”¨ç¨‹å¼æ­£åœ¨é‹è¡Œã€‚

## ğŸ“ é …ç›®çµæ§‹

```
ai-sales-enablement-webapp/
â”œâ”€â”€ app/                    # Next.js 14 App Router
â”‚   â”œâ”€â”€ (auth)/            # èªè­‰ç›¸é—œé é¢
â”‚   â”œâ”€â”€ (dashboard)/       # ä¸»è¦æ‡‰ç”¨é é¢
â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â””â”€â”€ globals.css        # å…¨å±€æ¨£å¼
â”œâ”€â”€ components/            # React çµ„ä»¶
â”‚   â”œâ”€â”€ ui/               # åŸºç¤ UI çµ„ä»¶
â”‚   â”œâ”€â”€ forms/            # è¡¨å–®çµ„ä»¶
â”‚   â””â”€â”€ features/         # åŠŸèƒ½ç‰¹å®šçµ„ä»¶
â”œâ”€â”€ lib/                  # å·¥å…·å‡½æ•¸å’Œé…ç½®
â”‚   â”œâ”€â”€ auth/            # èªè­‰é‚è¼¯
â”‚   â”œâ”€â”€ db/              # è³‡æ–™åº«å·¥å…·
â”‚   â”œâ”€â”€ ai/              # AI æœå‹™æ•´åˆ
â”‚   â””â”€â”€ integrations/    # ç¬¬ä¸‰æ–¹æ•´åˆ
â”œâ”€â”€ prisma/              # è³‡æ–™åº« schema å’Œé·ç§»
â”œâ”€â”€ docs/                # é …ç›®æ–‡æª”
â”œâ”€â”€ poc/                 # æ¦‚å¿µé©—è­‰æ¸¬è©¦
â””â”€â”€ scripts/             # éƒ¨ç½²å’Œç¶­è­·è…³æœ¬
```

## ğŸ—„ï¸ è³‡æ–™åº«è¨­è¨ˆ

ä¸»è¦è³‡æ–™è¡¨ï¼š
- **User** - ç”¨æˆ¶ç®¡ç†å’Œèªè­‰
- **Customer** - å®¢æˆ¶è³‡æ–™ (å¾ CRM åŒæ­¥)
- **Document** - çŸ¥è­˜åº«æ–‡æª” + å‘é‡åµŒå…¥
- **Proposal** - AI ç”Ÿæˆçš„ææ¡ˆå…§å®¹
- **CallRecord** - éŠ·å”®æ´»å‹•è¨˜éŒ„

æŸ¥çœ‹å®Œæ•´çš„è³‡æ–™åº« schemaï¼š[prisma/schema.prisma](prisma/schema.prisma)

## ğŸ§ª æ¸¬è©¦

```bash
# é‹è¡Œå–®å…ƒæ¸¬è©¦
npm run test

# ç›£çœ‹æ¨¡å¼æ¸¬è©¦
npm run test:watch

# æ¸¬è©¦è¦†è“‹ç‡
npm run test:coverage

# End-to-End æ¸¬è©¦
npm run test:e2e

# åŸ·è¡Œæ‰€æœ‰ POC é©—è­‰æ¸¬è©¦
npm run poc:test
```

## ğŸ“Š é–‹ç™¼å·¥ä½œæµç¨‹

### MVP é–‹ç™¼éšæ®µ (12 é€±)
1. **Sprint 1-2**: åŸºç¤æ¶æ§‹å’Œèªè­‰ç³»çµ±
2. **Sprint 3**: AI æœç´¢å¼•æ“å¯¦æ–½
3. **Sprint 4**: CRM æ•´åˆå’Œå®¢æˆ¶è¦–åœ–
4. **Sprint 5**: AI ææ¡ˆç”ŸæˆåŠŸèƒ½
5. **Sprint 6**: çµ±ä¸€å„€è¡¨æ¿å’Œå„ªåŒ–

è©³ç´°é–‹ç™¼è¨ˆåŠƒï¼š[docs/mvp-development-plan.md](docs/mvp-development-plan.md)

### ä»£ç¢¼å“è³ªæ¨™æº–
- TypeScript åš´æ ¼æ¨¡å¼
- ESLint + Prettier ä»£ç¢¼æ ¼å¼åŒ–
- å–®å…ƒæ¸¬è©¦è¦†è“‹ç‡ > 80%
- E2E æ¸¬è©¦è¦†è“‹é—œéµç”¨æˆ¶æµç¨‹

## ğŸ”§ å¯ç”¨è…³æœ¬

| å‘½ä»¤ | èªªæ˜ |
|------|------|
| `npm run dev` | å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ |
| `npm run build` | æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬ |
| `npm run start` | å•Ÿå‹•ç”Ÿç”¢ä¼ºæœå™¨ |
| `npm run lint` | åŸ·è¡Œ ESLint æª¢æŸ¥ |
| `npm run type-check` | TypeScript é¡å‹æª¢æŸ¥ |
| `npm run db:generate` | ç”Ÿæˆ Prisma Client |
| `npm run db:migrate` | åŸ·è¡Œè³‡æ–™åº«é·ç§» |
| `npm run db:studio` | é–‹å•Ÿ Prisma Studio |
| `npm run docker:dev` | å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ Docker |
| `npm run poc:test` | åŸ·è¡Œ POC é©—è­‰æ¸¬è©¦ |

## ğŸŒ éƒ¨ç½²

### Vercel éƒ¨ç½² (æ¨è–¦)
```bash
# é€£æ¥åˆ° Vercel
vercel

# è¨­å®šç’°å¢ƒè®Šæ•¸
vercel env add

# éƒ¨ç½²
vercel --prod
```

### Azure App Service éƒ¨ç½²
æŸ¥çœ‹è©³ç´°éƒ¨ç½²æŒ‡å—ï¼š[docs/deployment-guide.md](docs/deployment-guide.md)

## ğŸ¤– è‡ªå‹•åŒ–ç’°å¢ƒè¨­ç½®

> **æ–°é–‹ç™¼è€…å¿…è®€ï¼** æˆ‘å€‘æä¾›äº†è‡ªå‹•åŒ–å·¥å…·ä¾†è§£æ±ºå¸¸è¦‹çš„ç’°å¢ƒè¨­ç½®å•é¡Œã€‚

### ğŸ”§ è‡ªå‹•åŒ–ç’°å¢ƒæª¢æŸ¥èˆ‡ä¿®å¾©

å¦‚æœæ‚¨åœ¨æ–°é›»è…¦ä¸Šè¨­ç½®æ­¤é …ç›®æˆ–é‡åˆ°ä»»ä½•ç’°å¢ƒå•é¡Œï¼š

```bash
# 1. é¦–å…ˆå…‹éš†é …ç›®
git clone <repository-url>
cd ai-sales-enablement-webapp-main

# 2. é‹è¡Œç’°å¢ƒæª¢æŸ¥ï¼ˆè¨ºæ–·æ‰€æœ‰å•é¡Œï¼‰
npm run env:check

# 3. è‡ªå‹•ä¿®å¾©æ‰€æœ‰ç™¼ç¾çš„å•é¡Œ
npm run fix:all

# 4. å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
npm run dev
```

### ğŸ› ï¸ å¯ç”¨çš„è‡ªå‹•åŒ–å‘½ä»¤

#### ç’°å¢ƒæª¢æŸ¥å·¥å…·
```bash
npm run env:setup        # å®Œæ•´ç’°å¢ƒè¨­ç½®å’Œæª¢æŸ¥
npm run env:check        # åªæª¢æŸ¥ï¼Œä¸ä¿®å¾©
npm run env:auto-fix     # è‡ªå‹•ä¿®å¾©ç™¼ç¾çš„å•é¡Œ
```

#### å¿«é€Ÿä¿®å¾©å·¥å…·
```bash
npm run fix:all          # å®Œæ•´ä¿®å¾©æµç¨‹ï¼ˆæ¨è–¦ï¼‰
npm run fix:deps         # åªä¿®å¾©ä¾è³´å•é¡Œ
npm run fix:env          # åªä¿®å¾©ç’°å¢ƒè®Šæ•¸
npm run fix:restart      # é‡å•Ÿæœå‹™
npm run fix:diagnose     # å¿«é€Ÿè¨ºæ–·å•é¡Œ
```

### ğŸš¨ å¸¸è¦‹å•é¡Œè‡ªå‹•è§£æ±º

æˆ‘å€‘çš„è‡ªå‹•åŒ–å·¥å…·å¯ä»¥è§£æ±ºä»¥ä¸‹å¸¸è¦‹å•é¡Œï¼š

| å•é¡Œ | ç—‡ç‹€ | è‡ªå‹•ä¿®å¾©å‘½ä»¤ |
|------|------|-------------|
| **ä¾è³´åŒ…ç¼ºå¤±** | `Module not found: Can't resolve '@radix-ui/react-checkbox'` | `npm run fix:deps` |
| **è³‡æ–™åº«é€£æ¥éŒ¯èª¤** | `Can't reach database server at localhost:5432` | `npm run fix:env` |
| **ç’°å¢ƒè®Šæ•¸é…ç½®éŒ¯èª¤** | å„ç¨®é€£æ¥å¤±æ•— | `npm run fix:env` |
| **ç«¯å£è¢«å ç”¨** | `Port 3000 is in use` | æ­£å¸¸è¡Œç‚ºï¼Œæœƒè‡ªå‹•ä½¿ç”¨ 3001 |
| **Docker æœå‹™æœªå•Ÿå‹•** | è³‡æ–™åº«é€£æ¥å¤±æ•— | `npm run fix:all` |

### ğŸ“‹ å®Œæ•´æ–°é–‹ç™¼è€…æŒ‡å—

å¦‚éœ€è©³ç´°çš„æ­¥é©Ÿèªªæ˜ï¼Œè«‹æŸ¥çœ‹ï¼š
- **[æ–°é–‹ç™¼è€…è¨­ç½®æŒ‡å—](docs/NEW-DEVELOPER-SETUP-GUIDE.md)** - åŒ…å«å®Œæ•´çš„æ•…éšœæ’é™¤å’Œæœ€ä½³å¯¦è¸

### ğŸ’¡ è¨­è¨ˆç†å¿µ

æˆ‘å€‘å‰µå»ºé€™äº›è‡ªå‹•åŒ–å·¥å…·æ˜¯å› ç‚ºï¼š
- **æ¶ˆé™¤é‡è¤‡å·¥ä½œ**: é¿å…æ¯æ¬¡åœ¨æ–°é›»è…¦ä¸Šè¨­ç½®æ™‚éƒ½è¦æ‰‹å‹•é™¤éŒ¯
- **æ¨™æº–åŒ–ç’°å¢ƒ**: ç¢ºä¿æ‰€æœ‰é–‹ç™¼è€…éƒ½æœ‰ä¸€è‡´çš„ç’°å¢ƒé…ç½®
- **å¿«é€Ÿè¨ºæ–·**: ä¸€éµè¨ºæ–·å’Œä¿®å¾©å¸¸è¦‹çš„ç’°å¢ƒå•é¡Œ
- **æ–°æ‰‹å‹å¥½**: è®“æ–°é–‹ç™¼è€…èƒ½åœ¨ 15 åˆ†é˜å…§é–‹å§‹é–‹ç™¼

## ğŸ“š æ–‡æª”

- [æ¶æ§‹è¨­è¨ˆ](docs/architecture.md)
- [API è¦æ ¼](docs/api-specification.md)
- [æ¸¬è©¦ç­–ç•¥](docs/testing-strategy.md)
- [ç”¨æˆ¶æ•…äº‹](docs/user-stories/)
- [å®‰å…¨æ¨™æº–](docs/security-standards.md)
- **[æ–°é–‹ç™¼è€…è¨­ç½®æŒ‡å—](docs/NEW-DEVELOPER-SETUP-GUIDE.md)** â­

## ğŸ¤ è²¢ç»æŒ‡å—

1. Fork æœ¬é …ç›®
2. å‰µå»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. é–‹å•Ÿ Pull Request

## ğŸ”’ å®‰å…¨æ€§

- JWT èªè­‰å’Œæˆæ¬Š
- CORS ä¿è­·
- SQL æ³¨å…¥é˜²è­· (Prisma ORM)
- æ•æ„Ÿè³‡æ–™åŠ å¯†
- API é€Ÿç‡é™åˆ¶

## ğŸ“„ æˆæ¬Š

æœ¬é …ç›®æ¡ç”¨ MIT æˆæ¬Š - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è©³æƒ…ã€‚

## ğŸ†˜ æ”¯æ´

- ğŸ“§ Email: support@yourcompany.com
- ğŸ“š æ–‡æª”: [é …ç›® Wiki](https://github.com/yourusername/ai-sales-enablement-webapp/wiki)
- ğŸ› å•é¡Œå›å ±: [GitHub Issues](https://github.com/yourusername/ai-sales-enablement-webapp/issues)

## ğŸ‰ è‡´è¬

- Next.js åœ˜éšŠæä¾›å„ªç§€çš„å…¨æ£§æ¡†æ¶
- OpenAI/Azure OpenAI æä¾› AI èƒ½åŠ›
- Prisma åœ˜éšŠæä¾›ç¾ä»£ ORM è§£æ±ºæ–¹æ¡ˆ
- pgvector åœ˜éšŠæä¾›å‘é‡æœç´¢æ“´å±•

---

**ğŸš€ é–‹å§‹æ§‹å»ºä½ çš„ AI é©…å‹•éŠ·å”®å¹³å°ï¼**